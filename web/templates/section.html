{% extends "base.html" %}

{% block title %}{{ section.title }} | {{ config.title }}{% endblock title %}

{% block description %}
{% if section.description %}{{ section.description }}{% else %}{{ config.extra.project_tagline }}{% endif %}
{% endblock description %}

{% block og_title %}{{ section.title }} | {{ config.title }}{% endblock og_title %}

{% block og_description %}
{% if section.description %}{{ section.description }}{% else %}{{ config.extra.project_tagline }}{% endif %}
{% endblock og_description %}

{% block content %}
<article class="page">
    <div class="container">
        <header class="page-header">
            <h1 class="page-title">{{ section.title }}</h1>
            {% if section.description %}
            <p class="page-subtitle">{{ section.description }}</p>
            {% endif %}
        </header>

        {% if section.content %}
        <div class="page-content">
            {{ section.content | safe }}
        </div>
        {% endif %}

        {% if section.subsections or section.pages %}
        <div class="page-list">
            {% for subsection_path in section.subsections %}
            {% set subsection = get_section(path=subsection_path, lang=lang) %}
            <article class="page-list-item">
                <h3><a href="{{ subsection.permalink }}">{{ subsection.title }}</a></h3>
                {% if subsection.description %}
                <p>{{ subsection.description }}</p>
                {% endif %}
            </article>
            {% endfor %}

            {% for page in section.pages %}
            <article class="page-list-item">
                <h3><a href="{{ page.permalink }}">{{ page.title }}</a></h3>
                {% if page.description %}
                <p>{{ page.description }}</p>
                {% endif %}
            </article>
            {% endfor %}
        </div>
        {% endif %}
    </div>
</article>
{% endblock content %}
